<div class="container">
  <div *ngIf="!isOpen">
      <button class="spacer btn btn-success" type="button" (click)="initializeAddMovie()">Add Movie</button>
  </div>
  
    <form id="search" role="search" action="/movies" method="get" class="grid--cell fl-grow1 searchbar px12 js-searchbar " autocomplete="off" (keyup.enter)="doSearch()">
      <div class="ps-relative">
        <input name="searchText" type="text" placeholder="Searchâ€¦" value="" autocomplete="off" maxlength="240" class="s-input s-input__search js-search-field " aria-label="Search" aria-controls="top-search" data-controller="s-popover" data-action="focus->s-popover#show" data-s-popover-placement="bottom-start" [(ngModel)]="searchText">
        <svg aria-hidden="true" class="s-input-icon s-input-icon__search svg-icon iconSearch" width="18" height="18" viewBox="0 0 18 18"><path d="M18 16.5l-5.14-5.18h-.35a7 7 0 10-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 112 7a5 5 0 0110 0z"></path></svg>
      </div>
    </form>
 
  <div *ngIf="isOpen">
      <app-movie-upsert 
          [selectedMovie]="movie" 
          [submitLabel]="label"
          (onSubmit)="reloadData($event)">
      </app-movie-upsert>
  </div>
  <div *ngIf="!isOpen" class="row text-center spacer" style="display:flex; flex-wrap:wrap;">
      <div *ngFor="let movie of allMovies" class="col-md-3 col-sm-6 movie" (click)="id = movie.id" [ngClass]="{active: id === movie.id}">
          <div class="thumbnail">
              <img [src]="movie.pictureURL" alt="">
              <div class="caption">
                  <h4>{{movie.title | uppercase}}</h4>
              </div>
              <p>
                  <a class="btn btn-primary" [routerLink]="['/movies/', movie.id]">More Info</a>
              </p>
          </div>
      </div>
  </div>
</div>
