<div *ngIf="currentMovie" class="container">
    <div class="jumbotron">
        <h1>{{ currentMovie.title }}</h1>
    </div>
    <div class="row">
        <div class="col-lg-6">
            <h4>Details:</h4>
            <h5>Year: {{ currentMovie.year }}</h5>
            <h5>Plot Summary: {{ currentMovie.plotSummary }}</h5>
            <h5>Gross Earnings: {{ currentMovie.grossTakingsAmount }}</h5>
            <h5>Available on DVD: {{ currentMovie.isAvailableOnDVD }}</h5>
            <h5>Genre: {{ currentMovie.genre }}</h5>
            <h5>Rating: {{ currentMovie.rating }}</h5>
            <button class="spacer btn btn-danger" type="button" (click)="initializeDeleteMovie()">Delete
                Movie</button>
            <button class="spacer btn btn-warning" type="button" (click)="initializeUpdateMovie()">Update
                Movie</button>
            <div *ngIf="isOpen">
                <app-movie-upsert [selectedMovie]="currentMovie" [submitLabel]="label" (onSubmit)="reloadData($event)">
                </app-movie-upsert>
            </div>
            <hr />
            <h4>Your rating:</h4>
            <div class="row">
                <div class="col-sm-12">
                    <ul class="list-inline rating-list" 
                        *ngFor="let rating of ratings">
                          <li (click)="sendRating(rating)"
                              [ngClass]="{'selected': (rating <= lastRatingValue)}">
                            <i class="fa fa-star"></i>
                          </li> 
                    </ul>
                </div>
            </div>
            <h4>Comments:</h4>
            <table class='table table-striped' aria-labelledby="tableLabel" *ngIf="currentMovie.userComments.length > 0">
                <thead>
                    <tr>
                        <th>Username</th>
                        <th>Text</th>
                        <th>Added On</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let comment of currentMovie.userComments">
                        <td>{{ comment.username }}</td>
                        <td>{{ comment.commentText }}</td>
                        <td>{{ comment.addedOn }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="col-lg-6">
            <div class="text-center">
                <img src="{{ currentMovie.pictureURL }}" class="img-fluid" />
            </div>
        </div>
    </div>
</div>